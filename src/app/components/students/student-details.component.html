<div class="container my-4">
  <!-- Row 1: Tiles for Photo, Basic Info, Class -->
  <div class="row g-4 mb-4 justify-content-center">
    <!-- Photo Tile -->
    <div class="col-12 col-md-3">
      <div class="tile islamic-tile d-flex flex-column h-100">
        <div class="tile-header bg-info text-white text-center py-2">Photo</div>
        <div class="tile-body d-flex align-items-center justify-content-center flex-grow-1">
          <img
            [src]="student?.imagePath
            ? student.imagePath
            : (student.gender === 'Male'
                ? 'assets/boy-default.png'
                : 'assets/girl-default.png')"
            alt="Student Photo"
            class="img-fluid rounded-circle shadow-sm"
            style="max-height: 200px;">
        </div>
      </div>
    </div>

    <!-- Basic Info Tile -->
    <div class="col-12 col-md-3">
      <div class="tile islamic-tile d-flex flex-column h-100">
        <div class="tile-header bg-success text-white text-center py-2">Basic Info</div>
        <div class="tile-body flex-grow-1">
          <p><strong>Name:</strong> {{ student?.name }} {{ student?.surName }}</p>
          <p><strong>Age:</strong> {{ student?.age }}</p>
          <p><strong>Gender:</strong> {{ student?.gender }}</p>
          <p><strong>Father Name:</strong> {{ student?.fatherName }}</p>
          <p><strong>Guardian Name:</strong> {{ student?.guardianName }}</p>
          <p><strong>Phone:</strong> {{ student?.phone }}</p>
          <p><strong>Whatsapp:</strong> {{ student?.whatsapp }}</p>
          <p><strong>Admission Date:</strong> {{ student?.admissionDate }}</p>
        </div>
      </div>
    </div>

    <!-- Class Tile -->
    <div class="col-12 col-md-3">
      <div class="tile islamic-tile d-flex flex-column h-100">
        <div class="tile-header bg-warning text-dark text-center py-2">Class</div>
        <div class="tile-body flex-grow-1">
          <p><strong>Class:</strong> {{ student?.maktabClass?.name }}</p>
          <p><strong>Division:</strong> {{ student?.maktabClass?.division }}</p>
          <p><strong>Timing:</strong> {{ student?.maktabClass?.timing }}</p>
          <h6 class="mt-3">Teachers</h6>
          <div class="table-responsive">
            <table class="table table-sm table-bordered islamic-table mb-0">
              <thead class="table-light">
              <tr>
                <th>Name</th>
                <th>Phone</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let teacher of teachers">
                <td>{{ teacher.fullName }}</td>
                <td>{{ teacher.phone }}</td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Row 2: Fees and Attendance Tiles -->
  <div class="row g-4 mb-4 justify-content-center">
    <!-- Fees Tile -->
    <div class="col-12 col-md-5">
      <div class="tile islamic-tile d-flex flex-column h-100">
        <div class="tile-header bg-primary text-white text-center py-2">Fees</div>
        <div class="tile-body flex-grow-1">
          <p><strong>Total Fees:</strong> ‚Çπ{{ totalFees }}</p>
          <p><strong>Paid:</strong> ‚Çπ{{ paidFees }}</p>
          <p><strong>Due:</strong> ‚Çπ{{ dueFees }}</p>
          <div *ngIf="!student?.fees" class="text-muted text-center">
            Fees data not available.
          </div>
        </div>
      </div>
    </div>

    <!-- Attendance Tile -->
    <div class="col-12 col-md-5">
      <div class="tile islamic-tile d-flex flex-column h-100">
        <div class="tile-header bg-secondary text-white text-center py-2">Attendance</div>
        <div class="tile-body flex-grow-1">
          <p><strong>Absent:</strong> {{ attendanceSummary.absent }} days</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="text-center mb-4 justify-content-center">
    <button class="btn btn-success mx-2" (click)="openEditModal(student)">‚úè Edit</button>
    <button class="btn btn-info mx-2" (click)="getAttendance(student.id!)">üìÖ Attendance</button>
    <button class="btn btn-warning mx-2" (click)="getFeesDetails(student.id!)">üí∞ Fees</button>
    <button appBackButton class="btn btn-secondary mx-2">Back</button>
  </div>
</div>

