<div class="container mt-3">
  <h2 class="page-title">ğŸ“Š School Reports</h2>

  <!-- Filters -->
  <div class="report-filters">
    <label>
      Select Report:
      <select [(ngModel)]="selectedReport" (change)="loadReport()">
        <option value="attendance">ğŸ“‹ Attendance Report</option>
        <option value="fees">ğŸ’° Fees Report</option>
        <option value="exam-results">âœï¸ Exam Results</option>
        <option value="student-performance">â­ Student Performance</option>
        <option value="teacher-performance">ğŸ‘¨â€ğŸ« Teacher Performance</option>
      </select>
    </label>

    <label>
      Class:
      <select [(ngModel)]="selectedClass" (change)="loadReport()">
        <option value="">All Classes</option>
        <option *ngFor="let className of classes" [value]="className">{{ className }}</option>
      </select>
    </label>

    <label>
      Date Range:
      <input type="date" [(ngModel)]="startDate"> -
      <input type="date" [(ngModel)]="endDate" (change)="loadReport()">
    </label>
  </div>

  <!-- Dynamic Report -->
  <div class="report-section" *ngIf="reportData && reportData.length">
    <h3>{{ reportTitle }}</h3>
    <div class="table-wrapper">
      <table class="report-table">
        <thead>
        <tr>
          <th *ngFor="let col of tableColumns">{{ col }}</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let row of reportData">
          <td *ngFor="let col of tableColumns">{{ row[col] }}</td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

  <p *ngIf="!reportData || !reportData.length" class="no-data">No data available for the selected filters</p>

  <div class="action-buttons-left">
    <button appBackButton class="btn-secondary">Back</button>
  </div>
</div>
