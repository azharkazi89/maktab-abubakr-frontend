<div class="container mt-3">
  <h2 class="page-title">ğŸ“š Subjects</h2>

  <div class="action-bar">
    <button class="btn-primary" routerLink="/subjects/add">â• Add Subject</button>
  </div>

  <div class="table-wrapper">
    <table>
      <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Classes</th>
        <th>Teachers</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let subject of subjects">
        <td>{{ subject.id }}</td>
        <td>{{ subject.name }}</td>
        <td>
          <span *ngFor="let cls of subject.classes ?? []; let i = index">
            {{ cls.name }}<span *ngIf="i < (subject.classes?.length ?? 0) - 1">, </span>
          </span>
        </td>
        <td>
          <span *ngFor="let teacher of subject.teacher ?? []; let i = index">
            {{ teacher.fullName }}<span *ngIf="i < (subject.teacher?.length ?? 0) - 1">, </span>
          </span>
        </td>
        <td>
          <button class="btn-danger" (click)="deleteSubject(subject.id!)">ğŸ—‘ï¸ Delete</button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <button appBackButton class="btn-secondary">Back</button>
</div>
